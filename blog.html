<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <title>TRAVELER - Free Travel Website Template</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Free HTML Templates" name="keywords">
    <meta content="Free HTML Templates" name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet"> 

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">

    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />

    <link href="css/style.css" rel="stylesheet">
    <style>
        /* Estilos para las estrellas y reviews (ya estaban en tu cÃ³digo) */
        .fa-star {
            cursor: pointer;
            font-size: 1.5rem; /* TamaÃ±o ajustado */
        }
        .fa-star.text-warning { /* Usar warning para amarillo de Bootstrap */
             color: #ffc107 !important;
        }
        .fa-star.text-muted {
             color: #e4e5e9 !important; /* Color grisÃ¡ceo */
        }
        .review-item {
            border-bottom: 1px solid #eee; /* Borde mÃ¡s suave */
            padding-bottom: 1rem;
            margin-bottom: 1rem;
        }
        .review-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
         /* Estilo para resaltar formulario al hacer clic en enlace */
        #reviewForm.border-primary {
            border-color: #007bff !important; /* Asegura que el color sea visible */
            transition: border-color 0.3s ease-in-out;
        }
    </style>
</head>

<body>
    <!-- Topbar Start -->
    <div class="container-fluid bg-light pt-3 d-none d-lg-block">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 text-center text-lg-left mb-2 mb-lg-0">
                    <div class="d-inline-flex align-items-center">
                        <a href="contact.html" class="text-dark px-2">
                             ðŸ’¬ Â¿Tienes una recomendaciÃ³n? <strong>Â¡EscrÃ­benos!</strong>
                        </a>
                    </div>
                </div>
                 
            </div>
        </div>
    </div>
    <!-- Topbar End -->


    <!-- Navbar Start -->
    <div class="container-fluid position-relative nav-bar p-0">
        <div class="container-lg position-relative p-0 px-lg-3" style="z-index: 9;">
            <nav class="navbar navbar-expand-lg bg-light navbar-light shadow-lg py-3 py-lg-0 pl-3 pl-lg-5">
                <a href="index.html" class="navbar-brand"> <h1 class="m-0 text-primary"><span class="text-dark">UTA</span>visor</h1>
                </a>
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse justify-content-between px-3" id="navbarCollapse">
                    <div class="navbar-nav ml-auto py-0">
                        <a href="index.html" class="nav-item nav-link">Bienvenidos</a>
                        <a href="about.html" class="nav-item nav-link">Sobre</a>
                        <a href="package.html" class="nav-item nav-link">Lugares</a>
                        <div class="nav-item dropdown">
                            <a href="#" class="nav-link dropdown-toggle active" data-toggle="dropdown">PÃ¡ginas</a>
                            <div class="dropdown-menu border-0 rounded-0 m-0">
                                <a href="blog.html" class="dropdown-item active">Blog Grid</a>
                                <a href="single.html" class="dropdown-item">Blog Detail</a>
                                <a href="destination.html" class="dropdown-item">Destination</a>
                                <a href="guide.html" class="dropdown-item">Travel Guides</a>
                                <a href="testimonial.html" class="dropdown-item">Testimonial</a>
                            </div>
                        </div>
                        <a href="contact.html" class="nav-item nav-link">Contacto</a>
                    </div>
                </div>
            </nav>
        </div>
    </div>
    <!-- Navbar End -->


    <!-- Header Start -->
    <div class="container-fluid page-header">
        <div class="container">
            <div class="d-flex flex-column align-items-center justify-content-center" style="min-height: 400px">
                <h3 class="display-4 text-white text-uppercase">Blog</h3>
                <div class="d-inline-flex text-white">
                    <p class="m-0 text-uppercase"><a class="text-white" href="">Home</a></p>
                    <i class="fa fa-angle-double-right pt-1 px-3"></i>
                    <p class="m-0 text-uppercase">Blog</p>
                </div>
            </div>
        </div>
    </div>
    <!-- Header End -->


    <!-- Blog Start -->
<div class="container-fluid py-5">
    <div class="container py-5">
        <div class="row">
            <div class="col-lg-8">
                <div class="row pb-3">

                    <!-- Blog Items del 1 al 8 -->
                    <!-- Repite la misma estructura con diferentes lugares -->

                    <!-- 1 -->
                    <div class="col-md-6 mb-4 pb-2">
                        <div class="blog-item">
                            <div class="position-relative">
                                <a href="#reviewsContainer" class="review-link" data-local="Lugar 1">
                                    <img class="img-fluid w-100" src="img/blog-1.jpg" alt="Lugar 1">
                                </a>
                                <div class="blog-date">
                                    <h6 class="font-weight-bold mb-n1">01</h6>
                                    <small class="text-white text-uppercase">Ene</small>
                                </div>
                            </div>
                            <div class="bg-white p-4">
                                <div class="d-flex mb-2">
                                    <a class="text-primary text-uppercase text-decoration-none" href="">Admin</a>
                                    <span class="text-primary px-2">|</span>
                                    <a class="text-primary text-uppercase text-decoration-none" href="">Tours</a>
                                </div>
                                <a class="h5 m-0 text-decoration-none review-link" href="#reviewsContainer" data-local="Place 1">Discover the hidden gems of Place 1</a>
                            </div>
                        </div>
                    </div>

                    <!-- 2 -->
                    <div class="col-md-6 mb-4 pb-2">
                        <div class="blog-item">
                            <div class="position-relative">
                                <a href="#reviewsContainer" class="review-link" data-local="Place 2">
                                    <img class="img-fluid w-100" src="img/blog-2.jpg" alt="Place 2">
                                </a>
                                <div class="blog-date">
                                    <h6 class="font-weight-bold mb-n1">02</h6>
                                    <small class="text-white text-uppercase">Feb</small>
                                </div>
                            </div>
                            <div class="bg-white p-4">
                                <div class="d-flex mb-2">
                                    <a class="text-primary text-uppercase text-decoration-none" href="">Admin</a>
                                    <span class="text-primary px-2">|</span>
                                    <a class="text-primary text-uppercase text-decoration-none" href="">Travel</a>
                                </div>
                                <a class="h5 m-0 text-decoration-none review-link" href="#reviewsContainer" data-local="Place 2">A journey through Place 2â€™s landscapes</a>
                            </div>
                        </div>
                    </div>

                    <!-- 3 -->
                    <div class="col-md-6 mb-4 pb-2">
                        <div class="blog-item">
                            <div class="position-relative">
                                <a href="#reviewsContainer" class="review-link" data-local="Place 3">
                                    <img class="img-fluid w-100" src="img/blog-3.jpg" alt="Place 3">
                                </a>
                                <div class="blog-date">
                                    <h6 class="font-weight-bold mb-n1">03</h6>
                                    <small class="text-white text-uppercase">Mar</small>
                                </div>
                            </div>
                            <div class="bg-white p-4">
                                <div class="d-flex mb-2">
                                    <a class="text-primary text-uppercase text-decoration-none" href="">Editor</a>
                                    <span class="text-primary px-2">|</span>
                                    <a class="text-primary text-uppercase text-decoration-none" href="">Explore</a>
                                </div>
                                <a class="h5 m-0 text-decoration-none review-link" href="#reviewsContainer" data-local="Place 3">Cultural wonders of Place 3</a>
                            </div>
                        </div>

                    <div id="reviewsContainer" class="container mt-5 pt-5"> <h2 class="text-center mb-4">AÃ±ade o Lee ReseÃ±as</h2>
                         <form id="reviewForm" class="bg-light p-4 shadow mb-5 rounded">
                             <h4 id="reviewFormTitle" class="text-center text-primary mb-4">Selecciona un local para reseÃ±ar</h4>
                             <input type="hidden" id="localName" value="">

                             <div class="form-group">
                                 <label for="rating">Tu CalificaciÃ³n:</label>
                                 <div id="starRating" class="d-flex align-items-center">
                                     <i class="fa fa-star text-muted" data-value="1"></i>
                                     <i class="fa fa-star text-muted" data-value="2"></i>
                                     <i class="fa fa-star text-muted" data-value="3"></i>
                                     <i class="fa fa-star text-muted" data-value="4"></i>
                                     <i class="fa fa-star text-muted" data-value="5"></i>
                                 </div>
                                 <input type="hidden" id="rating" name="rating" value="">
                                 <small class="text-danger d-none" id="ratingError">Por favor selecciona una calificaciÃ³n.</small>
                             </div>

                    <!-- 4 -->
                    <div class="col-md-6 mb-4 pb-2">
                        <div class="blog-item">
                            <div class="position-relative">
                                <a href="#reviewsContainer" class="review-link" data-local="Place 4">
                                    <img class="img-fluid w-100" src="img/blog-1.jpg" alt="Place 4">
                                </a>
                                <div class="blog-date">
                                    <h6 class="font-weight-bold mb-n1">04</h6>
                                    <small class="text-white text-uppercase">Apr</small>
                                </div>
                            </div>
                            <div class="bg-white p-4">
                                <div class="d-flex mb-2">
                                    <a class="text-primary text-uppercase text-decoration-none" href="">Admin</a>
                                    <span class="text-primary px-2">|</span>
                                    <a class="text-primary text-uppercase text-decoration-none" href="">Nature</a>
                                </div>
                                <a class="h5 m-0 text-decoration-none review-link" href="#reviewsContainer" data-local="Place 4">Top hikes in Place 4</a>
                            </div>
                        </div>
                    </div>

                    <!-- 5 -->
                    <div class="col-md-6 mb-4 pb-2">
                        <div class="blog-item">
                            <div class="position-relative">
                                <a href="#reviewsContainer" class="review-link" data-local="Place 5">
                                    <img class="img-fluid w-100" src="img/blog-2.jpg" alt="Place 5">
                                </a>
                                <div class="blog-date">
                                    <h6 class="font-weight-bold mb-n1">05</h6>
                                    <small class="text-white text-uppercase">May</small>
                                </div>
                            </div>
                            <div class="bg-white p-4">
                                <div class="d-flex mb-2">
                                    <a class="text-primary text-uppercase text-decoration-none" href="">Team</a>
                                    <span class="text-primary px-2">|</span>
                                    <a class="text-primary text-uppercase text-decoration-none" href="">Adventure</a>
                                </div>
                                <a class="h5 m-0 text-decoration-none review-link" href="#reviewsContainer" data-local="Place 5">Thrilling adventures in Place 5</a>
                            </div>
                        </div>
                    </div>

                    <!-- 6 -->
                    <div class="col-md-6 mb-4 pb-2">
                        <div class="blog-item">
                            <div class="position-relative">
                                <a href="#reviewsContainer" class="review-link" data-local="Place 6">
                                    <img class="img-fluid w-100" src="img/blog-3.jpg" alt="Place 6">
                                </a>
                                <div class="blog-date">
                                    <h6 class="font-weight-bold mb-n1">06</h6>
                                    <small class="text-white text-uppercase">Jun</small>
                                </div>
                            </div>
                            <div class="bg-white p-4">
                                <div class="d-flex mb-2">
                                    <a class="text-primary text-uppercase text-decoration-none" href="">Editor</a>
                                    <span class="text-primary px-2">|</span>
                                    <a class="text-primary text-uppercase text-decoration-none" href="">Culture</a>
                                </div>
                                <a class="h5 m-0 text-decoration-none review-link" href="#reviewsContainer" data-local="Place 6">Hidden history of Place 6</a>
                            </div>
                        </div>
                    </div>

                    <!-- 7 -->
                    <div class="col-md-6 mb-4 pb-2">
                        <div class="blog-item">
                            <div class="position-relative">
                                <a href="#reviewsContainer" class="review-link" data-local="Place 7">
                                    <img class="img-fluid w-100" src="img/blog-1.jpg" alt="Place 7">
                                </a>
                                <div class="blog-date">
                                    <h6 class="font-weight-bold mb-n1">07</h6>
                                    <small class="text-white text-uppercase">Jul</small>
                                </div>
                            </div>
                            <div class="bg-white p-4">
                                <div class="d-flex mb-2">
                                    <a class="text-primary text-uppercase text-decoration-none" href="">Writer</a>
                                    <span class="text-primary px-2">|</span>
                                    <a class="text-primary text-uppercase text-decoration-none" href="">Experience</a>
                                </div>
                                <a class="h5 m-0 text-decoration-none review-link" href="#reviewsContainer" data-local="Place 7">Experiences in Place 7</a>
                            </div>
                        </div>
                    </div>

                    <!-- 8 -->
                    <div class="col-md-6 mb-4 pb-2">
                        <div class="blog-item">
                            <div class="position-relative">
                                <a href="#reviewsContainer" class="review-link" data-local="Place 8">
                                    <img class="img-fluid w-100" src="img/blog-2.jpg" alt="Place 8">
                                </a>
                                <div class="blog-date">
                                    <h6 class="font-weight-bold mb-n1">08</h6>
                                    <small class="text-white text-uppercase">Aug</small>
                                </div>
                            </div>
                            <div class="bg-white p-4">
                                <div class="d-flex mb-2">
                                    <a class="text-primary text-uppercase text-decoration-none" href="">Author</a>
                                    <span class="text-primary px-2">|</span>
                                    <a class="text-primary text-uppercase text-decoration-none" href="">Leisure</a>
                                </div>
                                <a class="h5 m-0 text-decoration-none review-link" href="#reviewsContainer" data-local="Place 8">Relaxation spots in Place 8</a>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Sidebar (no se modifica) -->
            <div class="col-lg-4 mt-5 mt-lg-0">
                <!-- AquÃ­ va tu contenido del sidebar -->
            </div>
        </div>
    </div>
</div>
<!-- Blog End -->




    <!-- Footer Start -->
    <div class="container-fluid bg-dark text-white-50 py-5 px-sm-3 px-lg-5" style="margin-top: 90px;">
        <div class="row pt-5">
            <div class="col-lg-3 col-md-6 mb-5">
                <a href="" class="navbar-brand">
                    <h1 class="text-primary"><span class="text-white">TRAVEL</span>ER</h1>
                </a>
                <p>Sed ipsum clita tempor ipsum ipsum amet sit ipsum lorem amet labore rebum lorem ipsum dolor. No sed vero lorem dolor dolor</p>
                <h6 class="text-white text-uppercase mt-4 mb-3" style="letter-spacing: 5px;">Follow Us</h6>
                <div class="d-flex justify-content-start">
                    <a class="btn btn-outline-primary btn-square mr-2" href="#"><i class="fab fa-twitter"></i></a>
                    <a class="btn btn-outline-primary btn-square mr-2" href="#"><i class="fab fa-facebook-f"></i></a>
                    <a class="btn btn-outline-primary btn-square mr-2" href="#"><i class="fab fa-linkedin-in"></i></a>
                    <a class="btn btn-outline-primary btn-square" href="#"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 mb-5">
                <h5 class="text-white text-uppercase mb-4" style="letter-spacing: 5px;">Our Services</h5>
                <div class="d-flex flex-column justify-content-start">
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>About</a>
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Destination</a>
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Services</a>
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Packages</a>
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Guides</a>
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Testimonial</a>
                    <a class="text-white-50" href="#"><i class="fa fa-angle-right mr-2"></i>Blog</a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 mb-5">
                <h5 class="text-white text-uppercase mb-4" style="letter-spacing: 5px;">Usefull Links</h5>
                <div class="d-flex flex-column justify-content-start">
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>About</a>
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Destination</a>
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Services</a>
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Packages</a>
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Guides</a>
                    <a class="text-white-50 mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Testimonial</a>
                    <a class="text-white-50" href="#"><i class="fa fa-angle-right mr-2"></i>Blog</a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 mb-5">
                <h5 class="text-white text-uppercase mb-4" style="letter-spacing: 5px;">Contact Us</h5>
                <p><i class="fa fa-map-marker-alt mr-2"></i>123 Street, New York, USA</p>
                <p><i class="fa fa-phone-alt mr-2"></i>+012 345 67890</p>
                <p><i class="fa fa-envelope mr-2"></i>info@example.com</p>
                <h6 class="text-white text-uppercase mt-4 mb-3" style="letter-spacing: 5px;">Newsletter</h6>
                <div class="w-100">
                    <div class="input-group">
                        <input type="text" class="form-control border-light" style="padding: 25px;" placeholder="Your Email">
                        <div class="input-group-append">
                            <button class="btn btn-primary px-3">Sign Up</button>
                        </div>
                    </div>
                </div>
                </div>
        </div>
    </div>
    <div class="container-fluid bg-dark text-white border-top py-4 px-sm-3 px-md-5" style="border-color: rgba(256, 256, 256, .1) !important;">
        <div class="row">
            <div class="col-lg-6 text-center text-md-left mb-3 mb-md-0">
                <p class="m-0 text-white-50">Copyright &copy; <a href="#">Domain</a>. All Rights Reserved.</a>
                </p>
            </div>
            <div class="col-lg-6 text-center text-md-right">
                <p class="m-0 text-white-50">Designed by <a href="https://htmlcodex.com">HTML Codex</a>
                </p>
            </div>
        </div>
    </div>
    <!-- Footer End -->


    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="fa fa-angle-double-up"></i></a>


    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/tempusdominus/js/moment.min.js"></script>
    <script src="lib/tempusdominus/js/moment-timezone.min.js"></script>
    <script src="lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>

    <script src="js/main.js"></script>

    <!-- Review Submission Script -->
    <script>
        $(document).ready(function() {
            // Star rating hover effect
            $('#starRating i').hover(function() {
                var onStar = parseInt($(this).data('value'), 10); // The star currently hovered
                $(this).parent().children('i').each(function(index) {
                    if (index < onStar) {
                        $(this).removeClass('text-muted').addClass('text-primary');
                    } else {
                        $(this).removeClass('text-primary').addClass('text-muted');
                    }
                });
            }, function() {
                $('#starRating i').removeClass('text-primary').addClass('text-muted');
                var ratingValue = parseInt($('#rating').val(), 10);
                if (!isNaN(ratingValue)) {
                    $('#starRating i').each(function(index) {
                        if (index < ratingValue) {
                            $(this).removeClass('text-muted').addClass('text-primary');
                        } else {
                            $(this).removeClass('text-primary').addClass('text-muted');
                        }
                    });
                }
            });

            // Star rating click event
            $('#starRating i').click(function() {
                var onStar = parseInt($(this).data('value'), 10);
                $('#rating').val(onStar);
                $('#ratingError').addClass('d-none');
            });

            // Review form submission
            $('#reviewForm').submit(function(e) {
                e.preventDefault();

                // Validate form fields
                var isValid = true;
                if ($('#localName').val() === '') {
                    $('#localNameError').removeClass('d-none');
                    isValid = false;
                } else {
                    $('#localNameError').addClass('d-none');
                }

                if ($('#rating').val() === '') {
                    $('#ratingError').removeClass('d-none');
                    isValid = false;
                } else {
                    $('#ratingError').addClass('d-none');
                }

                if ($('#reviewText').val().trim() === '') {
                    $('#reviewTextError').removeClass('d-none');
                    isValid = false;
                } else {
                    $('#reviewTextError').addClass('d-none');
                }

                // If form is valid, submit the review
                if (isValid) {
                    var reviewData = {
                        localName: $('#localName').val(),
                        rating: $('#rating').val(),
                        reviewText: $('#reviewText').val().trim()
                    };

                    // Here you can make an AJAX call to submit the review data to the server
                    // For demonstration, we will just append the review to the reviews list
                    var reviewHtml = '<div class="review-item mb-3 p-3 bg-light rounded shadow-sm">' +
                        '<h6 class="font-weight-bold">' + reviewData.localName + '</h6>' +
                        '<div class="d-flex align-items-center mb-2">' +
                        '<div id="starRatingDisplay" class="d-flex align-items-center">';

                    for (var i = 1; i <= 5; i++) {
                        if (i <= reviewData.rating) {
                            reviewHtml += '<i class="fa fa-star text-primary"></i>';
                        } else {
                            reviewHtml += '<i class="fa fa-star text-muted"></i>';
                        }
                    }

                    reviewHtml += '</div>' +
                        '</div>' +
                        '<p class="mb-0">' + reviewData.reviewText + '</p>' +
                        '</div>';

                    $('#reviewsList').prepend(reviewHtml);
                    $('#reviewForm')[0].reset();
                    $('#rating').val('');
                    $('#starRating i').removeClass('text-primary').addClass('text-muted');
                }
            });

            // Pagination click event
            $('.pagination .page-link').click(function(e) {
                e.preventDefault();
                var pageNum = $(this).data('page');
                // Here you can add code to load reviews for the selected page
                // For demonstration, we will just log the page number
                console.log('Load page: ' + pageNum);
            });
        });
    </script>

    <div class="container mt-5">
        <h2 class="text-center mb-4">Add a Review for Nearby Places</h2>
        <form id="reviewForm" class="bg-light p-4 shadow">
            <!-- Campo Oculto para el Nombre del Local -->
            <input type="hidden" id="localName" value="">

            <!-- CalificaciÃ³n -->
            <div class="form-group">
                <label for="rating">Rating </label>
                <div id="starRating" class="d-flex align-items-center">
                    <i class="fa fa-star text-muted" data-value="1"></i>
                    <i class="fa fa-star text-muted" data-value="2"></i>
                    <i class="fa fa-star text-muted" data-value="3"></i>
                    <i class="fa fa-star text-muted" data-value="4"></i>
                    <i class="fa fa-star text-muted" data-value="5"></i>
                </div>
                <input type="hidden" id="rating" value="">
                <small class="text-danger d-none" id="ratingError">Please select a rating.</small>
            </div>

            <!-- Texto de la ReseÃ±a -->
            <div class="form-group">
                <label for="reviewText">Review *</label>
                <textarea id="reviewText" cols="30" rows="5" class="form-control" placeholder="Write your review"></textarea>
                <small class="text-danger d-none" id="reviewTextError">Review text is required.</small>
            </div>

            <!-- BotÃ³n de Enviar -->
            <div class="form-group mb-0">
                <button type="submit" class="btn btn-primary font-weight-semi-bold py-2 px-3">Submit Review</button>
            </div>
        </form>

        <!-- Lista de ReseÃ±as -->
        <div id="reviewsContainer" class="mt-5">
            <h3 class="text-center mb-4">Reviews</h3>
            <div id="reviewsList" class="bg-white p-4 shadow"></div>
            <nav aria-label="Page navigation" class="mt-4">
                <ul class="pagination justify-content-center">
                    <li class="page-item"><a class="page-link" href="#" data-page="1">1</a></li>
                    <li class="page-item"><a class="page-link" href="#" data-page="2">2</a></li>
                    <li class="page-item"><a class="page-link" href="#" data-page="3">3</a></li>
                </ul>
            </nav>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function () {
        // --- Variables Globales para Reviews ---
        const reviews = JSON.parse(localStorage.getItem('reviews')) || {}; // Cargar reseÃ±as desde localStorage
        const reviewsPerPage = 5; // Mostrar mÃ¡s reseÃ±as por pÃ¡gina
        let currentLocal = null; // Local seleccionado actualmente
        let currentPage = 1; // PÃ¡gina actual de reseÃ±as

        // --- Elementos del DOM ---
        const stars = document.querySelectorAll('#starRating .fa-star');
        const ratingInput = document.getElementById('rating');
        const reviewForm = document.getElementById('reviewForm');
        const reviewFormTitle = document.getElementById('reviewFormTitle');
        const reviewsListContainer = document.getElementById('reviewsList'); // El div donde van las reseÃ±as
        const paginationContainer = document.querySelector('#reviewsListContainer .pagination'); // Contenedor de paginaciÃ³n (si lo agregas)
        const reviewLinks = document.querySelectorAll('.review-link'); // Enlaces en los blog items
        const localNameInput = document.getElementById('localName'); // Input oculto en el form

        // --- Funciones ---

        // Resaltar estrellas al pasar el mouse o hacer clic
        function highlightStars(value) {
            const ratingValue = parseInt(value, 10) || 0; // Asegura que sea nÃºmero
            stars.forEach(star => {
                const starValue = parseInt(star.getAttribute('data-value'), 10);
                if (starValue <= ratingValue) {
                    star.classList.add('text-warning');
                    star.classList.remove('text-muted');
                } else {
                    star.classList.add('text-muted');
                    star.classList.remove('text-warning');
                }
            });
        }

        // Renderizar estrellas estÃ¡ticas para una reseÃ±a existente
        function renderStaticStars(rating) {
            const ratingValue = parseInt(rating, 10) || 0;
            let starsHtml = '';
            for (let i = 1; i <= 5; i++) {
                if (i <= ratingValue) {
                    starsHtml += '<i class="fa fa-star text-warning"></i>';
                } else {
                    starsHtml += '<i class="fa fa-star text-muted"></i>';
                }
            }
            return `<div class="mb-1">${starsHtml}</div>`; // AÃ±adir margen inferior
        }

        // Renderizar la lista de reseÃ±as para el local actual y pÃ¡gina actual
        function renderReviews() {
             reviewsListContainer.innerHTML = ''; // Limpiar lista anterior
             if (!currentLocal || !reviews[currentLocal] || reviews[currentLocal].length === 0) {
                 reviewsListContainer.innerHTML = '<p class="text-center text-muted">TodavÃ­a no hay reseÃ±as para este local. Â¡SÃ© el primero!</p>';
                 // Ocultar paginaciÃ³n si no hay reseÃ±as
                 if(paginationContainer) paginationContainer.parentElement.classList.add('d-none');
                 return;
             }

            // Ordenar reseÃ±as (opcional, ej: mÃ¡s nuevas primero si tuvieras timestamp)
            const localReviews = reviews[currentLocal]; //.sort((a, b) => b.timestamp - a.timestamp); // NecesitarÃ­as guardar timestamp

            const totalPages = Math.ceil(localReviews.length / reviewsPerPage);
            const start = (currentPage - 1) * reviewsPerPage;
            const end = start + reviewsPerPage;
            const paginatedReviews = localReviews.slice(start, end);

            if (paginatedReviews.length === 0 && currentPage > 1) {
                // Si estamos en una pÃ¡gina vacÃ­a (ej: despuÃ©s de borrar), ir a la anterior
                currentPage--;
                renderReviews(); // Volver a renderizar
                return;
            }

            paginatedReviews.forEach((review, index) => {
                 const reviewItem = document.createElement('div');
                 reviewItem.classList.add('review-item');
                 // Escapar HTML en reviewText para seguridad bÃ¡sica
                 const safeReviewText = review.reviewText.replace(/</g, "&lt;").replace(/>/g, "&gt;");
                 reviewItem.innerHTML = `
                     ${renderStaticStars(review.rating)}
                     <p class="mb-0">${safeReviewText}</p>
                     `;
                 reviewsListContainer.appendChild(reviewItem);
            });

             // Renderizar paginaciÃ³n (si hay mÃ¡s de una pÃ¡gina)
             renderPagination(totalPages);
        }

         // Renderizar controles de paginaciÃ³n
        function renderPagination(totalPages) {
            if (!paginationContainer) return; // Salir si no hay contenedor de paginaciÃ³n

            paginationContainer.innerHTML = ''; // Limpiar paginaciÃ³n anterior

            if (totalPages <= 1) {
                 paginationContainer.parentElement.classList.add('d-none'); // Ocultar si solo hay 1 pÃ¡gina
                return;
            }

            paginationContainer.parentElement.classList.remove('d-none'); // Mostrar si hay mÃ¡s de 1 pÃ¡gina

            // BotÃ³n Anterior
            const prevLi = document.createElement('li');
            prevLi.classList.add('page-item', currentPage === 1 ? 'disabled' : '');
            prevLi.innerHTML = `<a class="page-link" href="#" data-page="${currentPage - 1}" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>`;
            if (currentPage > 1) {
                prevLi.querySelector('a').addEventListener('click', handlePaginationClick);
            }
            paginationContainer.appendChild(prevLi);

            // NÃºmeros de PÃ¡gina
            for (let i = 1; i <= totalPages; i++) {
                const pageLi = document.createElement('li');
                pageLi.classList.add('page-item', i === currentPage ? 'active' : '');
                pageLi.innerHTML = `<a class="page-link" href="#" data-page="${i}">${i}</a>`;
                pageLi.querySelector('a').addEventListener('click', handlePaginationClick);
                paginationContainer.appendChild(pageLi);
            }

            // BotÃ³n Siguiente
             const nextLi = document.createElement('li');
            nextLi.classList.add('page-item', currentPage === totalPages ? 'disabled' : '');
            nextLi.innerHTML = `<a class="page-link" href="#" data-page="${currentPage + 1}" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>`;
             if (currentPage < totalPages) {
                nextLi.querySelector('a').addEventListener('click', handlePaginationClick);
            }
            paginationContainer.appendChild(nextLi);
        }

        // Manejador para clics en paginaciÃ³n
        function handlePaginationClick(e) {
            e.preventDefault();
            const targetPage = parseInt(this.getAttribute('data-page'));
            if (targetPage && targetPage !== currentPage) {
                currentPage = targetPage;
                renderReviews();
            }
        }

        // --- Event Listeners ---

        // Clic en estrellas del formulario
        stars.forEach(star => {
            star.addEventListener('mouseover', function () {
                highlightStars(this.getAttribute('data-value'));
            });
            star.addEventListener('mouseout', function () {
                highlightStars(ratingInput.value); // Volver a la selecciÃ³n actual
            });
            star.addEventListener('click', function () {
                ratingInput.value = this.getAttribute('data-value');
                document.getElementById('ratingError').classList.add('d-none'); // Ocultar error al seleccionar
                highlightStars(ratingInput.value);
            });
        });

        // Clic en un enlace de blog item (imagen o tÃ­tulo)
        reviewLinks.forEach(link => {
            link.addEventListener('click', function (e) {
                e.preventDefault();
                currentLocal = this.getAttribute('data-local');
                localNameInput.value = currentLocal;
                placeNameHeading.textContent = `Review for: ${currentLocal}`;

                document.getElementById('reviewsContainer').scrollIntoView({ behavior: 'smooth' });

                // Resaltar el formulario temporalmente
                const form = document.getElementById('reviewForm');
                form.classList.add('border', 'border-primary');
                setTimeout(() => {
                    form.classList.remove('border', 'border-primary');
                }, 1500);

                renderReviews(1);
            });
        });

        // EnvÃ­o del formulario de reseÃ±a
        reviewForm.addEventListener('submit', function (e) {
            e.preventDefault();

            // Ocultar mensajes de error previos
            document.querySelectorAll('#reviewForm .text-danger').forEach(el => el.classList.add('d-none'));

            let isValid = true;

            const localName = localNameInput.value.trim();
             // Validar que se haya seleccionado un local (aunque el input estÃ¡ oculto, currentLocal debe tener valor)
             if (!currentLocal || !localName) {
                 // PodrÃ­as mostrar un error general si intentan enviar sin seleccionar local
                 alert("Por favor, selecciona primero un local haciendo clic en su imagen o tÃ­tulo.");
                 isValid = false;
             }

            const rating = ratingInput.value.trim();
            if (!rating) {
                document.getElementById('ratingError').classList.remove('d-none');
                isValid = false;
            }

            const reviewText = document.getElementById('reviewText').value.trim();
            if (!reviewText) {
                document.getElementById('reviewTextError').classList.remove('d-none');
                isValid = false;
            }

            if (isValid) {
                // Crear objeto de reseÃ±a (podrÃ­as aÃ±adir user, date, etc.)
                const newReview = {
                    // user: 'Usuario AnÃ³nimo', // O pedir nombre
                    rating: rating,
                    reviewText: reviewText
                    // timestamp: Date.now() // Ãštil para ordenar
                };

                // AÃ±adir la reseÃ±a al array del local correspondiente
                if (!reviews[currentLocal]) {
                    reviews[currentLocal] = []; // Crear array si no existe
                }
                reviews[currentLocal].unshift(newReview); // AÃ±adir al principio (mÃ¡s nuevas primero)

                // Guardar en localStorage
                try {
                    localStorage.setItem('reviews', JSON.stringify(reviews));
                } catch (error) {
                    console.error("Error saving to localStorage:", error);
                    // PodrÃ­a ser que localStorage estÃ© lleno
                    alert("No se pudo guardar la reseÃ±a. Espacio de almacenamiento lleno.");
                }


                // Volver a renderizar las reseÃ±as (deberÃ­a mostrar la nueva)
                currentPage = 1; // Ir a la primera pÃ¡gina para ver la nueva reseÃ±a
                renderReviews();

                // Limpiar formulario
                reviewForm.reset();
                ratingInput.value = '';
                highlightStars(0);
            }
        });

        // Renderizar reseÃ±as
        function renderReviews(page) {
            reviewsList.innerHTML = '';
            if (!currentLocal || !reviews[currentLocal]) {
                reviewsList.innerHTML = '<p class="text-center">No reviews available for this place.</p>';
                return;
            }

            const start = (page - 1) * reviewsPerPage;
            const end = start + reviewsPerPage;
            const sortedReviews = reviews[currentLocal].sort((a, b) => b.rating - a.rating);

            sortedReviews.slice(start, end).forEach(review => {
                const reviewItem = document.createElement('div');
                reviewItem.classList.add('review-item');
                reviewItem.innerHTML = `
                    <div class="d-flex align-items-center mb-2">
                        <div class="text-warning">
                            ${'<i class="fa fa-star"></i>'.repeat(review.rating)}
                            ${'<i class="fa fa-star text-muted"></i>'.repeat(5 - review.rating)}
                        </div>
                    </div>
                    <p>${review.reviewText}</p>
                `;
                reviewsList.appendChild(reviewItem);
            });
        }

        // PaginaciÃ³n
        paginationLinks.forEach(link => {
            link.addEventListener('click', function (e) {
                e.preventDefault();
                const page = parseInt(this.getAttribute('data-page'));
                renderReviews(page);
            });
        });

        renderReviews(1);
    });
</script>
</body>

</html>